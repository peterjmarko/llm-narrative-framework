graph TD
    subgraph "Main Data Preparation Pipeline"
        A["src/fetch_adb_data.py"]
        B["src/validate_adb_data.py"]
        C["src/filter_adb_candidates.py"]
        D["src/prepare_sf_import.py"]
        E["src/create_subject_db.py"]
        F["src/generate_personalities_db.py"]
        U["src/id_encoder.py"]
    end

    A --> B
    B --> C
    C --> D
    D --> E
    E --> F
    
    U -.-> D
    U -.-> E

    style A fill:#d4edda,stroke:#155724
    style B fill:#d4edda,stroke:#155724
    style C fill:#d4edda,stroke:#155724
    style D fill:#d4edda,stroke:#155724
    style E fill:#d4edda,stroke:#155724
    style F fill:#d4edda,stroke:#155724
    style U fill:#e9ecef,stroke:#adb5bd
    