graph TD
    classDef process fill:#f9f9f9,stroke:#333,stroke-width:1px
    classDef artifact fill:#e5e5e5,stroke:#666,stroke-width:1px,stroke-dasharray: 5 5
    classDef source fill:#cce5ff,stroke:#333,stroke-width:2px
    classDef finalProduct fill:#d5e8d4,stroke:#82b366,stroke-width:2px,font-weight:bold
    classDef llmProcess fill:#fff2cc,stroke:#d6b656,stroke-width:2px

    subgraph "Input from Previous Stage"
        eligible_candidates[adb_eligible_candidates.txt]:::source
    end

    subgraph "Pipeline Scripts"
        gen_eminence["src/generate_eminence_scores.py<br>(Uses LLM)"]:::llmProcess
        gen_ocean["src/generate_ocean_scores.py<br>(Uses LLM)"]:::llmProcess
        select_final[src/select_final_candidates.py]:::process
    end

    subgraph "Data Artifacts"
        eminence_scores[eminence_scores.csv]:::artifact
        ocean_scores[ocean_scores.csv]:::artifact
    end

    subgraph "Output"
        final_candidates[adb_final_candidates.txt]:::finalProduct
    end

    eligible_candidates --> gen_eminence
    gen_eminence --> eminence_scores

    eminence_scores --> gen_ocean
    gen_ocean --> ocean_scores
    
    eligible_candidates --> select_final
    eminence_scores --> select_final
    ocean_scores --> select_final

    select_final --> final_candidates