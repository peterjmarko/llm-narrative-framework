repos:
  - repo: local
    hooks:
      - id: check-docs-updated
        name: Check if documentation is up-to-date
        entry: python -m pdm run python src/build_docs.py --check
        language: system
        pass_filenames: false
        # This regex now correctly targets the template and all diagram source files.
        # Adjust 'docs/sources/' if your diagram sources are elsewhere.
        files: ^(README\.template\.md|docs/sources/.*\.(mmd|txt))$
        always_run: true
        verbose: true